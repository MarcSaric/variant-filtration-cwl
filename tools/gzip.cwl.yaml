#!/usr/bin/env cwl-runner

description: |
    description: "Running gzip"
    Usage:  cwl-runner <this-file-path> options

requirements:
  - import: node-engine.cwl
  - class: InlineJavascriptRequirement

class: CommandLineTool

inputs:
  - id: "#input_file"
    type: File
    label: "Input file"
    description: "path to file you wish to compress"
    inputBinding:
        position: 0

outputs:
    - id: "#gzip_out"
      type: File
      description: "compressedfile"
      outputBinding:
          glob: $(inputs['input_file'].path.split(/[\\/]/).pop() + '.gz')

baseCommand: ["gzip", "-c"]
stdout: $(inputs['input_file'].path.split(/[\\/]/).pop() + '.gz')
